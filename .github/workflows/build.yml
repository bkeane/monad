"env":
  "MONAD_BOUNDARY_POLICY": "monad-boundary-policy"
  "MONAD_BRANCH": "${{ github.head_ref || github.ref_name }}"
  "MONAD_REGISTRY_ID": "677771948337"
  "MONAD_REGISTRY_REGION": "us-west-2"
  "MONAD_SHA": "${{ github.event_name == 'pull_request' && github.event.pull_request.head.sha
    || github.sha }}"
"jobs":
  "build":
    "name": "Point to Hub"
    "runs-on": "ubuntu-latest"
    "steps":
    - "name": "setup"
      "uses": "bkeane/monad-action@main"
      "with":
        "registry_id": "677771948337"
        "registry_region": "us-west-2"
        "role_arn": "arn:aws:iam::677771948337:role/monad-hub-oidc-role"
        "version": "latest"
    - "name": "export"
      "uses": "actions/github-script@v7"
      "with":
        "script": |
          core.exportVariable('MONAD_REGISTRY_ID', process.env.MONAD_REGISTRY_ID);
          core.exportVariable('MONAD_REGISTRY_REGION', process.env.MONAD_REGISTRY_REGION);
          core.exportVariable('MONAD_BRANCH', process.env.MONAD_BRANCH);
          core.exportVariable('MONAD_SHA', process.env.MONAD_SHA);
          if (process.env.MONAD_BOUNDARY_POLICY) {
            core.exportVariable('MONAD_BOUNDARY_POLICY', process.env.MONAD_BOUNDARY_POLICY);
          }
"name": "Build"
"on":
  "workflow_call": {}
